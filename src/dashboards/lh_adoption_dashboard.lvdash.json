{
  "datasets": [
    {
      "name": "e2b9e81f",
      "displayName": "Dashboard_usage",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "\n",
        "select\n",
        "  * except(dashboard_name),\n",
        "  case\n",
        "    when dashboard_name rlike '.* [0-9]{4}-[0-9]{2}-[0-9]{2} .*' then 'unnamed_dashboard'\n",
        "    else dashboard_name\n",
        "  end as dashboard_name\n",
        "from\n",
        "  mvFactDashboardUsage"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "a5510c39",
      "displayName": "stale_dashboards",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "\n",
        "select\n",
        "  case\n",
        "    when dashboard_name rlike '.* [0-9]{4}-[0-9]{2}-[0-9]{2} .*' then 'unnamed_dashboard'\n",
        "    else dashboard_name\n",
        "  end as dashboard_name,\n",
        "  sum(num_views) as num_views\n",
        "from\n",
        "  mvFactDashboardUsage\n",
        "  where viewed_date >= now()-interval 14 days\n",
        "  group by dashboard_name\n",
        "  having\n",
        "  num_views < 10"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "9d2c306d",
      "displayName": "ranked_dashboards",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "\n",
        "WITH weekly_views AS (\n",
        "  SELECT\n",
        "    dashboard_id,\n",
        "    workspace_id,\n",
        "    first(dashboard_name) as dashboard_name,\n",
        "    weekofyear(viewed_date) AS week_num,\n",
        "    sum(num_views) AS num_views\n",
        "  FROM mvFactDashboardUsage\n",
        "  WHERE viewed_date >= current_date() - INTERVAL 21 DAYS\n",
        "  GROUP BY dashboard_id, workspace_id, weekofyear(viewed_date)\n",
        "),\n",
        "weekly_ranks AS (\n",
        "  SELECT\n",
        "    dashboard_id,\n",
        "    workspace_id,\n",
        "    dashboard_name,\n",
        "    week_num,\n",
        "    num_views,\n",
        "    DENSE_RANK() OVER (PARTITION BY week_num ORDER BY num_views DESC) AS week_rank\n",
        "  FROM weekly_views\n",
        "),\n",
        "pivoted AS (\n",
        "  SELECT\n",
        "    dashboard_id,\n",
        "    workspace_id,\n",
        "    first(dashboard_name) as dashboard_name,\n",
        "    coalesce(MAX(CASE WHEN week_num = weekofyear(current_date()) THEN num_views END), 0) AS week_0_views,\n",
        "    coalesce(MAX(CASE WHEN week_num = weekofyear(current_date() - INTERVAL 7 DAYS) THEN num_views END), 0 ) AS week_1_views,\n",
        "    coalesce(MAX(CASE WHEN week_num = weekofyear(current_date() - INTERVAL 14 DAYS) THEN num_views END), 0 ) AS week_2_views,\n",
        "    coalesce(MAX(CASE WHEN week_num = weekofyear(current_date()) THEN week_rank END), 999) AS week_0_rank,\n",
        "    coalesce(MAX(CASE WHEN week_num = weekofyear(current_date() - INTERVAL 7 DAYS) THEN week_rank END), 999) AS week_1_rank,\n",
        "    coalesce(MAX(CASE WHEN week_num = weekofyear(current_date() - INTERVAL 14 DAYS) THEN week_rank END), 999) AS week_2_rank,\n",
        "    SUM(num_views) AS total_views\n",
        "  FROM weekly_ranks\n",
        "  GROUP BY dashboard_id,workspace_id\n",
        "),\n",
        "ranked AS (\n",
        "  SELECT\n",
        "    dashboard_id,\n",
        "    workspace_id,\n",
        "    dashboard_name,\n",
        "    week_0_views,\n",
        "    week_1_views,\n",
        "    week_2_views,\n",
        "    week_0_rank,\n",
        "    week_1_rank,\n",
        "    week_2_rank,\n",
        "    total_views,\n",
        "    ROW_NUMBER() OVER (ORDER BY total_views DESC) AS overall_rank\n",
        "  FROM pivoted\n",
        ")\n",
        "SELECT\n",
        "  overall_rank,\n",
        "  r.dashboard_name,\n",
        "  dashboard_id,\n",
        "  workspace_id,\n",
        "  coalesce(week_0_views,week_1_views) AS this_week_views,\n",
        "  coalesce(week_0_rank,week_1_rank) AS this_week_rank,\n",
        "  week_1_views AS last_week_views,\n",
        "  week_1_rank AS last_week_rank,\n",
        "  week_2_views AS two_weeks_ago_views,\n",
        "  week_2_rank AS two_weeks_ago_rank,\n",
        "  this_week_rank - last_week_rank AS rank_change\n",
        "FROM ranked r\n",
        "WHERE overall_rank <= 10 and week_0_rank < 999\n",
        "ORDER BY overall_rank\n",
        "-- \n"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "d51dbc00",
      "displayName": "Genie_usage",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "select * from mvFactGenieUsage"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "kg_demo_catalog"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "default"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "24976bdb",
      "displayName": "most_popular_genie",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "with ranked as (\n",
        "SELECT\n",
        "  genie_space,\n",
        "  SUM(num_views) AS total_views,\n",
        "  SUM(num_chats_created) AS total_chats,\n",
        "  RANK() OVER (ORDER BY SUM(num_views) DESC) AS views_rank,\n",
        "  RANK() OVER (ORDER BY SUM(num_chats_created) DESC) AS chats_rank\n",
        "FROM\n",
        "  mvFactGenieUsage\n",
        "GROUP BY\n",
        "  genie_space\n",
        ")\n",
        "select genie_space, total_views, total_chats, views_rank, chats_rank from ranked where views_rank <= 10 or chats_rank <=10\n",
        "  "
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "dcb76dbb",
      "displayName": "dashboard_users",
      "queryLines": [
        "\n",
        "select\n",
        "  regexp_replace(user_identity.email, r'^[^.]+(?=\\.)', \"*****\") as username,\n",
        "  count(user_identity) as total_dashboard_clicks\n",
        "from\n",
        "  system.access.audit\n",
        "where\n",
        "  action_name = 'getDashboard'\n",
        "  and event_time >= current_timestamp() - interval 7 days\n",
        "  and response.status_code = 200\n",
        "group by\n",
        "  user_identity.email\n",
        "having\n",
        "  total_dashboard_clicks > 10\n",
        "order by\n",
        "  total_dashboard_clicks desc\n",
        "  limit 10;"
      ]
    },
    {
      "name": "26e7cfc1",
      "displayName": "most_least_viewed_genie",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "with ranked as (\n",
        "SELECT\n",
        "  genie_space,\n",
        "  SUM(num_views) AS total_views,\n",
        "  SUM(num_chats_created) AS total_chats,\n",
        "  RANK() OVER (ORDER BY SUM(num_views) DESC) AS views_rank,\n",
        "  RANK() OVER (ORDER BY SUM(num_chats_created) DESC) AS chats_rank\n",
        "FROM\n",
        "  mvFactGenieUsage\n",
        "GROUP BY\n",
        "  genie_space\n",
        ")\n",
        "select 'most_viewed' as status, * from ranked where views_rank = 1\n",
        "union all\n",
        "select 'least_viewed' as status, * from ranked where views_rank = (select max(views_rank) from ranked) limit 2"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "82415f2f",
      "displayName": "Genie Interactions Summary",
      "queryLines": [
        "\n",
        "select\n",
        "  regexp_replace(user_identity.email, r'^[^.]+(?=\\.)', \"*****\") as username,\n",
        "  count(user_identity) as total_genie_interactions\n",
        "from\n",
        "  system.access.audit\n",
        "where\n",
        "  lower(action_name) ilike '%genie%'\n",
        "  and event_time >= current_timestamp() - interval 7 days\n",
        "  and response.status_code = 200\n",
        "  and contains(user_identity.email, '@')\n",
        "group by\n",
        "  user_identity.email\n",
        "having\n",
        "  total_genie_interactions > 10\n",
        "order by\n",
        "  total_genie_interactions desc\n",
        "  limit 5;"
      ]
    },
    {
      "name": "51bbce62",
      "displayName": "apps_user_access",
      "queryLines": [
        "-- Note this is anonmyised, use the link here to find a more representative query\n",
        "-- https://docs.databricks.com/aws/en/admin/system-tables/audit-logs#which-users-have-logged-into-a-databricks-app\n",
        "select \n",
        "event_date,\n",
        "count(*) as user_login_events\n",
        " FROM   system.access.audit\n",
        " WHERE\n",
        "action_name IN (\"workspaceInHouseOAuthClientAuthentication\", \"mintOAuthToken\", \"mintOAuthAuthorizationCode\")\n",
        "and request_params[\"client_id\"] != 'databricks-cli'\n",
        "and response.status_code = 200\n",
        "group by all\n",
        "order by event_date desc"
      ]
    },
    {
      "name": "0e741d6f",
      "displayName": "apps_permission_changes",
      "queryLines": [
        "SELECT\n",
        "  event_date,\n",
        "  workspace_id,\n",
        "  request_params['request_object_id'] as app,\n",
        "  user_identity['email'] as sharing_user,\n",
        "  acl_entry['group_name'],\n",
        "  acl_entry['user_name'],\n",
        "  acl_entry['permission_level']\n",
        "FROM\n",
        "  system.access.audit t\n",
        "LATERAL VIEW\n",
        "  explode(from_json(request_params['access_control_list'], 'array<struct<user_name:string,permission_level:string,group_name:string>>')) acl_entry AS acl_entry\n",
        "WHERE\n",
        "  action_name = 'changeAppsAcl'\n",
        "AND\n",
        "  request_params['request_object_type'] = 'apps'\n",
        "ORDER BY\n",
        "  event_date DESC\n",
        "\n"
      ]
    },
    {
      "name": "20c44dd1",
      "displayName": "apps_actions",
      "queryLines": [
        "SELECT\n",
        "  event_date,\n",
        "  action_name,\n",
        "  count(*) as actions\n",
        "FROM\n",
        "  system.access.audit\n",
        "WHERE\n",
        "  action_name like \"%App\"\n",
        "group by action_name, event_date\n",
        "ORDER BY\n",
        "  event_date DESC"
      ]
    },
    {
      "name": "255e661f",
      "displayName": "apps_top_users",
      "queryLines": [
        "with ranked as (\n",
        "SELECT\n",
        "  regexp_replace(user_identity.email, r'^[^.]+(?=\\.)', \"*****\") AS email,\n",
        "  COUNT(*) AS action_count\n",
        "FROM\n",
        "  system.access.audit\n",
        "WHERE\n",
        "  service_name = 'apps'\n",
        "  AND event_time >= now() - INTERVAL 7 days\n",
        "  and contains(user_identity.email, '@')\n",
        "GROUP BY\n",
        "  user_identity.email\n",
        "ORDER BY\n",
        "  action_count DESC\n",
        "LIMIT 10\n",
        ")\n",
        "select * from ranked"
      ]
    },
    {
      "name": "f8608a63",
      "displayName": "dashboard_climbers_decliners",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "\n",
        "WITH monthly_views AS (\n",
        "  SELECT\n",
        "    dashboard_id,\n",
        "    any_value(dashboard_name) as dashboard_name,\n",
        "    DATE_TRUNC('month', viewed_date) AS month,\n",
        "    SUM(num_views) AS total_views\n",
        "  FROM mvFactDashboardUsage\n",
        "  WHERE viewed_date >= DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '1' MONTH\n",
        "  GROUP BY dashboard_id, DATE_TRUNC('month', viewed_date)\n",
        "),\n",
        "pivoted AS (\n",
        "  SELECT\n",
        "    dashboard_name,\n",
        "    MAX(CASE WHEN month = DATE_TRUNC('month', CURRENT_DATE) THEN total_views END) AS this_month_views,\n",
        "    MAX(CASE WHEN month = DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '1' MONTH THEN total_views END) AS last_month_views\n",
        "  FROM monthly_views\n",
        "  GROUP BY dashboard_name\n",
        "),\n",
        "diffs AS (\n",
        "  SELECT\n",
        "    dashboard_name,\n",
        "    COALESCE(this_month_views, 0) - COALESCE(last_month_views, 0) AS view_diff\n",
        "  FROM pivoted\n",
        "),\n",
        "climbers AS (\n",
        "  SELECT\n",
        "    dashboard_name,\n",
        "    view_diff,\n",
        "    'Climber' AS type,\n",
        "    1 AS sort_order,\n",
        "    DENSE_RANK() OVER (ORDER BY view_diff DESC) AS rank\n",
        "  FROM diffs\n",
        "  ORDER BY view_diff DESC\n",
        "  LIMIT 20\n",
        "),\n",
        "decliners AS (\n",
        "  SELECT\n",
        "    dashboard_name,\n",
        "    view_diff,\n",
        "    'Decliner' AS type,\n",
        "    2 AS sort_order,\n",
        "    DENSE_RANK() OVER (ORDER BY view_diff ASC) AS rank\n",
        "  FROM diffs\n",
        "  ORDER BY view_diff ASC\n",
        "  LIMIT 20\n",
        ")\n",
        "SELECT dashboard_name, view_diff, type, rank\n",
        "FROM (\n",
        "  (SELECT dashboard_name, view_diff, type, sort_order, rank FROM climbers)\n",
        "  UNION ALL\n",
        "  (SELECT dashboard_name, view_diff, type, sort_order, rank FROM decliners)\n",
        ")\n",
        "ORDER BY sort_order, rank"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "a19ba0f5",
      "displayName": "apps_views",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "select * from mvfactappusage"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ],
      "catalog": "field_eng_slc",
      "schema": "adoption"
    },
    {
      "name": "75376ae2",
      "displayName": "uc_models",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "select * from mvfactmodelusage;\n",
        "-- select * from mvfactservingendpointusage"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ],
      "catalog": "field_eng_slc",
      "schema": "adoption"
    },
    {
      "name": "4b7165be",
      "displayName": "serving_endpoints",
      "queryLines": [
        "use catalog identifier(:catalog);\n",
        "\n",
        "use schema identifier(:schema);\n",
        "\n",
        "select * from mvFactDashboardUsage"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "placeholder"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "adoption"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "f3e2f878",
      "displayName": "genie_drill_down_main",
      "queryLines": [
        "USE CATALOG IDENTIFIER(:catalog);\n",
        "\n",
        "USE SCHEMA IDENTIFIER(:schema);\n",
        "\n",
        "SELECT * \n",
        "FROM genie_observability_main_table\n",
        "WHERE created_datetime >= :param.min \n",
        "  AND created_datetime <= :param.max\n",
        "  AND (\n",
        "    :space_id = 'ALL' \n",
        "    OR space_id = :space_id\n",
        "  )"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "kg_test_workspace"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "default"
                }
              ]
            }
          }
        },
        {
          "displayName": "Time period",
          "keyword": "param",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "2022-02-01T00:00:00.000"
              },
              "max": {
                "value": "2026-02-01T23:59:59.999"
              }
            }
          }
        },
        {
          "displayName": "space_id",
          "keyword": "space_id",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "ALL"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "d71f04cc",
      "displayName": "median_messages_per_conversation",
      "queryLines": [
        "USE CATALOG IDENTIFIER(:catalog);\n",
        "\n",
        "USE SCHEMA IDENTIFIER(:schema);\n",
        "\n",
        "WITH message_counts AS (\n",
        "  SELECT \n",
        "    conversation_id,\n",
        "    COUNT(*) AS message_count\n",
        "  FROM genie_observability_main_table\n",
        "  WHERE created_datetime >= :param.min \n",
        "    AND created_datetime <= :param.max\n",
        "    AND space_id IS NOT NULL\n",
        "    AND (\n",
        "      :space_id = 'ALL' \n",
        "      OR space_id = :space_id\n",
        "    )\n",
        "  GROUP BY conversation_id\n",
        ")\n",
        "SELECT \n",
        "  PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY message_count) AS median_messages_per_conversation\n",
        "FROM message_counts"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "kg_test_workspace"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "default"
                }
              ]
            }
          }
        },
        {
          "displayName": "param",
          "keyword": "param",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "2025-01-07T00:00:00.000"
              },
              "max": {
                "value": "2026-01-31T23:59:59.999"
              }
            }
          }
        },
        {
          "displayName": "space_id",
          "keyword": "space_id",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "ALL"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "3655f221",
      "displayName": "genie_cost_attribution",
      "queryLines": [
        "USE CATALOG IDENTIFIER(:catalog);\n",
        "\n",
        "USE SCHEMA IDENTIFIER(:schema);\n",
        "\n",
        "SELECT DISTINCT\n",
        "    c.*\n",
        "FROM dbsql_cost_per_query_table c\n",
        "INNER JOIN genie_observability_main_table o\n",
        "    ON c.query_source_id = o.space_id\n",
        "WHERE c.start_time >= :param.min \n",
        "  AND c.start_time <= :param.max\n",
        "  AND (\n",
        "    :genie_space_id = 'ALL' \n",
        "    OR o.space_id = :genie_space_id\n",
        "  );\n",
        "\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "kg_test_workspace"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "default"
                }
              ]
            }
          }
        },
        {
          "displayName": "param",
          "keyword": "param",
          "dataType": "DATE",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATE",
              "min": {
                "value": "2025-07-01T00:00:00.000"
              },
              "max": {
                "value": "2026-02-02T23:59:59.999"
              }
            }
          }
        },
        {
          "displayName": "genie_space_id",
          "keyword": "genie_space_id",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "ALL"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "fe27bc16",
      "displayName": "genie_space_id_filter",
      "queryLines": [
        "USE CATALOG IDENTIFIER(:catalog);\n",
        "\n",
        "USE SCHEMA IDENTIFIER(:schema);\n",
        "\n",
        "SELECT space_id, space_name \n",
        "FROM genie_observability_main_table\n",
        "\n"
      ],
      "parameters": [
        {
          "displayName": "catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "kg_test_workspace"
                }
              ]
            }
          }
        },
        {
          "displayName": "schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "default"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "348e9612",
      "displayName": "av_cost_per_message_genie",
      "queryLines": [
        "USE CATALOG IDENTIFIER(:catalog);\n",
        "\n",
        "USE SCHEMA IDENTIFIER(:schema);\n",
        "\n",
        "SELECT \n",
        "  SUM(c.total_space_cost) / SUM(o.total_messages) as avg_cost_per_message\n",
        "FROM \n",
        "  -- 1. Calculate Total Cost per Space first (No duplicates)\n",
        "  (\n",
        "    SELECT query_source_id, SUM(query_attributed_dollars_estimation) as total_space_cost\n",
        "    FROM dbsql_cost_per_query_table\n",
        "    WHERE start_time >= :param.min \n",
        "      AND start_time <= :param.max\n",
        "    GROUP BY query_source_id\n",
        "  ) c\n",
        "INNER JOIN \n",
        "  -- 2. Calculate Total Messages per Space separately\n",
        "  (\n",
        "    SELECT space_id, COUNT(DISTINCT message_id) as total_messages\n",
        "    FROM genie_observability_main_table\n",
        "    WHERE space_id IS NOT NULL\n",
        "      AND (\n",
        "        :genie_space_id = 'ALL' \n",
        "        OR space_id = :genie_space_id\n",
        "      )\n",
        "    GROUP BY space_id\n",
        "  ) o\n",
        "  -- 3. Join the pre-calculated totals\n",
        "  ON c.query_source_id = o.space_id;\n"
      ],
      "parameters": [
        {
          "displayName": "Catalog",
          "keyword": "catalog",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "kg_test_workspace"
                }
              ]
            }
          }
        },
        {
          "displayName": "Schema",
          "keyword": "schema",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "default"
                }
              ]
            }
          }
        },
        {
          "displayName": "Date Range",
          "keyword": "param",
          "dataType": "DATETIME",
          "complexType": "RANGE",
          "defaultSelection": {
            "range": {
              "dataType": "DATETIME",
              "min": {
                "value": "now-30d/d"
              },
              "max": {
                "value": "now/d"
              }
            }
          }
        },
        {
          "displayName": "Genie Space ID",
          "keyword": "genie_space_id",
          "dataType": "STRING",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "ALL"
                }
              ]
            }
          }
        }
      ]
    }
  ],
  "pages": [
    {
      "name": "1d47bc2c",
      "displayName": "Dashboards",
      "layout": [
        {
          "widget": {
            "name": "b47771ce",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "workspace_name",
                      "expression": "`workspace_name`"
                    },
                    {
                      "name": "daily(viewed_date)",
                      "expression": "DATE_TRUNC(\"DAY\", `viewed_date`)"
                    },
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "daily(viewed_date)",
                  "axis": {
                    "title": "Viewed Date",
                    "hideTitle": true
                  },
                  "displayName": "viewed_date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "sum(num_views)",
                  "axis": {
                    "title": "Views By Workspace",
                    "hideTitle": true
                  },
                  "displayName": "Views by workspace",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "workspace_name",
                  "legend": {
                    "position": "top"
                  },
                  "displayName": "workspace_name",
                  "scale": {
                    "type": "categorical"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Daily views by workspace"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 7,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "c7bcec3c",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`workspace_name` IN (`workspace_name`) OR TRUE"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(num_views)",
                  "displayName": "Sum of num_views"
                }
              },
              "frame": {
                "title": "Total Views",
                "showTitle": true,
                "showDescription": true,
                "description": "How many times have your dashboards been viewed?"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 5,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "51f97bbd",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "countdistinct(dashboard_id)",
                      "expression": "COUNT(DISTINCT `dashboard_id`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`workspace_name` IN (`workspace_name`) OR TRUE"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "countdistinct(dashboard_id)",
                  "format": {
                    "type": "number-plain",
                    "abbreviation": "compact",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 2
                    }
                  },
                  "displayName": "Count of Unique dashboard_id"
                }
              },
              "frame": {
                "title": "Unique dashboards",
                "showTitle": true,
                "showDescription": false,
                "description": ""
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "03f739a1",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a5510c39",
                  "fields": [
                    {
                      "name": "countdistinct(dashboard_name)",
                      "expression": "COUNT(DISTINCT `dashboard_name`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "countdistinct(dashboard_name)",
                  "displayName": "Count of Unique dashboard_name"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Stale dashboards",
                "showDescription": true,
                "description": "Low recent viewership"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 2,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "e72aaa21",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "9d2c306d",
                  "fields": [
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    },
                    {
                      "name": "last_week_views",
                      "expression": "`last_week_views`"
                    },
                    {
                      "name": "this_week_views",
                      "expression": "`this_week_views`"
                    },
                    {
                      "name": "overall_rank",
                      "expression": "`overall_rank`"
                    },
                    {
                      "name": "rank_change",
                      "expression": "`rank_change`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "dashboard_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ drillthrough_url }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 0,
                    "title": "Dashboard Name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": null
                      },
                      "rules": [
                        {
                          "if": {
                            "column": "rank_change",
                            "fn": ">",
                            "literal": "0"
                          },
                          "value": {
                            "foregroundColor": {
                              "themeColorType": "visualizationColors",
                              "position": 8
                            }
                          }
                        },
                        {
                          "if": {
                            "column": "rank_change",
                            "fn": "<",
                            "literal": "0"
                          },
                          "value": {
                            "foregroundColor": "#FFAB00"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "fieldName": "last_week_views",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 3,
                    "title": "last_week_views",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "this_week_views",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 6,
                    "title": "this_week_views",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "overall_rank",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 10,
                    "title": "Position",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "dashboard_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 1,
                  "title": "dashboard_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "this_week_rank",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 2,
                  "title": "Current Week Rank",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false,
                  "cellFormat": {
                    "default": {
                      "foregroundColor": null
                    },
                    "rules": [
                      {
                        "if": {
                          "column": "rank_change",
                          "fn": "=",
                          "literal": "0"
                        },
                        "value": {
                          "foregroundColor": null
                        }
                      },
                      {
                        "if": {
                          "column": "rank_change",
                          "fn": ">",
                          "literal": "0"
                        },
                        "value": {
                          "foregroundColor": {
                            "themeColorType": "visualizationColors",
                            "position": 2
                          }
                        }
                      },
                      {
                        "if": {
                          "column": "rank_change",
                          "fn": "<",
                          "literal": "0"
                        },
                        "value": {
                          "foregroundColor": {
                            "themeColorType": "visualizationColors",
                            "position": 3
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "last_week_rank",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 4,
                  "title": "Last Week Rank",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "two_weeks_ago_views",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 5,
                  "title": "two_weeks_ago_views",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "two_weeks_ago_rank",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 7,
                  "title": "two_weeks_ago_rank",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "rank_change",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 8,
                  "title": "rank_change",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "workspace_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 9,
                  "title": "workspace_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "This weeks top 10",
                "showDescription": true,
                "description": "Looking at views and change in rank"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 2,
            "width": 4,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "c3a2d6ef",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "weekly(viewed_date)",
                      "expression": "DATE_TRUNC(\"WEEK\", `viewed_date`)"
                    },
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    },
                    {
                      "name": "countdistinct(dashboard_name)",
                      "expression": "COUNT(DISTINCT `dashboard_name`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "combo",
              "encodings": {
                "x": {
                  "fieldName": "weekly(viewed_date)",
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "viewed_date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "label": {
                  "show": false
                },
                "color": {
                  "legend": {
                    "position": "top",
                    "hide": false
                  }
                },
                "y": {
                  "primary": {
                    "fields": [
                      {
                        "fieldName": "sum(num_views)",
                        "displayName": "Total views"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    },
                    "axis": {
                      "hideTitle": true
                    }
                  },
                  "secondary": {
                    "fields": [
                      {
                        "fieldName": "countdistinct(dashboard_name)",
                        "displayName": "Unique dashboards"
                      }
                    ],
                    "scale": {
                      "type": "quantitative",
                      "reverse": false
                    },
                    "axis": {
                      "hideLabels": false,
                      "hideTitle": false
                    }
                  }
                }
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Weekly view trends"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 7,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "394c39ff",
            "multilineTextboxSpec": {
              "lines": [
                "#### <span style=\"font-size: 14px;\">Got suggestions or having trouble? Raise a github issue or send </span>[<span style=\"font-size: 14px;\">Feedback here!</span>](mailto:sam.lecorre+adoption_dash@databricks.com;mike.dobing+adoption_dash@databricks.com)"
              ]
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 4,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "climbers-over-last-month",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f8608a63",
                  "fields": [
                    {
                      "name": "type",
                      "expression": "`type`"
                    },
                    {
                      "name": "view_diff",
                      "expression": "`view_diff`"
                    },
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`type` IN ('Climber')"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "view_diff",
                  "displayName": "Change in views",
                  "scale": {
                    "type": "quantitative",
                    "fn": {
                      "type": "symlog"
                    }
                  }
                },
                "y": {
                  "fieldName": "dashboard_name",
                  "displayName": "Dashboard Name",
                  "scale": {
                    "type": "categorical",
                    "categorySize": {
                      "type": "number-of-categories",
                      "number": 20
                    },
                    "sort": {
                      "by": "x-reversed"
                    }
                  }
                },
                "color": {
                  "fieldName": "type",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "Decliner",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 2
                        }
                      },
                      {
                        "value": "Climber",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 7
                        }
                      }
                    ]
                  }
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Climbers over the last month"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 13,
            "width": 3,
            "height": 9
          }
        },
        {
          "widget": {
            "name": "decliners-over-last-month",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f8608a63",
                  "fields": [
                    {
                      "name": "type",
                      "expression": "`type`"
                    },
                    {
                      "name": "view_diff",
                      "expression": "`view_diff`"
                    },
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`type` IN ('Decliner')"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "view_diff",
                  "displayName": "Change in views",
                  "scale": {
                    "type": "quantitative",
                    "fn": {
                      "type": "symlog"
                    }
                  }
                },
                "y": {
                  "fieldName": "dashboard_name",
                  "displayName": "Dashboard Name",
                  "scale": {
                    "type": "categorical",
                    "categorySize": {
                      "type": "number-of-categories",
                      "number": 20
                    },
                    "sort": {
                      "by": "x-reversed"
                    }
                  }
                },
                "color": {
                  "fieldName": "type",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "Decliner",
                        "color": {
                          "themeColorType": "widgetBorderColor"
                        }
                      },
                      {
                        "value": "Climber",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 3
                        }
                      }
                    ]
                  }
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Decliners over the last month"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 13,
            "width": 3,
            "height": 9
          }
        },
        {
          "widget": {
            "name": "dashboard-name",
            "queries": [
              {
                "name": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b1182afc9c6531fcee276_dashboard_name",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    },
                    {
                      "name": "dashboard_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b11cdb0a2091b32ece092_dashboard_name",
                "query": {
                  "datasetName": "a5510c39",
                  "fields": [
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    },
                    {
                      "name": "dashboard_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b12149691c055623e847d_dashboard_name",
                "query": {
                  "datasetName": "f8608a63",
                  "fields": [
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    },
                    {
                      "name": "dashboard_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b11d6826997e540560b1d_dashboard_name",
                "query": {
                  "datasetName": "9d2c306d",
                  "fields": [
                    {
                      "name": "dashboard_name",
                      "expression": "`dashboard_name`"
                    },
                    {
                      "name": "dashboard_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "dashboard_name",
                    "queryName": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b1182afc9c6531fcee276_dashboard_name"
                  },
                  {
                    "fieldName": "dashboard_name",
                    "queryName": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b11cdb0a2091b32ece092_dashboard_name"
                  },
                  {
                    "fieldName": "dashboard_name",
                    "queryName": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b12149691c055623e847d_dashboard_name"
                  },
                  {
                    "fieldName": "dashboard_name",
                    "queryName": "dashboards/01f0d06b1d7911588e7e0edddb3ab647/datasets/01f0d0f4037b11d6826997e540560b1d_dashboard_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Dashboard Name"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 1,
            "width": 4,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "821d5c9a",
            "multilineTextboxSpec": {
              "lines": [
                "# AI/BI Dashboard Adoption"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 2
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "335cad3f",
      "displayName": "Genie",
      "layout": [
        {
          "widget": {
            "name": "ba104be5",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "monthly(viewed_date)",
                      "expression": "DATE_TRUNC(\"MONTH\", `viewed_date`)"
                    },
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "monthly(viewed_date)",
                  "displayName": "Date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "sum(num_views)",
                  "axis": {
                    "title": "Number Of Spaces Accessed"
                  },
                  "displayName": "Spaces accessed",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Genie adoption over time",
                "showDescription": true,
                "description": "Space usage by month"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "3714e841",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "daily(viewed_date)",
                      "expression": "DATE_TRUNC(\"DAY\", `viewed_date`)"
                    },
                    {
                      "name": "sum(num_chats_created)",
                      "expression": "SUM(`num_chats_created`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "daily(viewed_date)",
                  "displayName": "Date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "sum(num_chats_created)",
                  "displayName": "Unique conversations",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Daily chat interactions"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "505559fe",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "sum(num_chats_created)",
                      "expression": "SUM(`num_chats_created`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(num_chats_created)",
                  "displayName": "Sum of num_chats_created"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Chats created"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "f839953b",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "sum(num_spaces_accessed)",
                      "expression": "SUM(`num_spaces_accessed`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(num_spaces_accessed)",
                  "displayName": "Sum of num_spaces_accessed"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Spaces accessed"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 1,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "8d5b3437",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(num_views)",
                  "displayName": "Sum of num_views"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Spaces viewed"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 1,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "9153cafd",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "24976bdb",
                  "fields": [
                    {
                      "name": "genie_space",
                      "expression": "`genie_space`"
                    },
                    {
                      "name": "total_views",
                      "expression": "`total_views`"
                    },
                    {
                      "name": "total_chats",
                      "expression": "`total_chats`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "genie_space",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "Space name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_views",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100001,
                    "title": "Total views",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "total_chats",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "Total chats",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "views_rank",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100003,
                  "title": "View rank",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "chats_rank",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100004,
                  "title": "Chat rank",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Detail view of Genie spaces"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "96382896",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "genie_space",
                      "expression": "`genie_space`"
                    },
                    {
                      "name": "daily(viewed_date)",
                      "expression": "DATE_TRUNC(\"DAY\", `viewed_date`)"
                    },
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`genie_space` IN (' IOT - Wind Turbine predictive maintenance v0', 'New Space', 'DBDemos - AI-BI - Supply Chain Optimization', 'SAP FICO data room', 'Patient Readmission ')"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "daily(viewed_date)",
                  "displayName": "Date",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "sum(num_views)",
                  "displayName": "Total views",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "genie_space",
                  "displayName": "Genie",
                  "scale": {
                    "type": "categorical"
                  }
                },
                "label": {
                  "show": true
                }
              }
            }
          },
          "position": {
            "x": 0,
            "y": 16,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "058638a0",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "82415f2f",
                  "fields": [
                    {
                      "name": "username",
                      "expression": "`username`"
                    },
                    {
                      "name": "sum(total_genie_interactions)",
                      "expression": "SUM(`total_genie_interactions`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "sum(total_genie_interactions)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true,
                    "hideLabels": true,
                    "title": "Interactions"
                  },
                  "displayName": "Interactions"
                },
                "y": {
                  "fieldName": "username",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x-reversed"
                    }
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "username"
                },
                "color": {
                  "fieldName": "username",
                  "scale": {
                    "type": "categorical"
                  },
                  "legend": {
                    "hide": true
                  },
                  "displayName": "username"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Top genie users in the last week"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 10,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "52e3eeec",
            "queries": [
              {
                "name": "dashboards/01f0d05a59391ad087e297c5e9c9aed5/datasets/01f0d05da6581e6e84c867b2a54c62c8_genie_space",
                "query": {
                  "datasetName": "d51dbc00",
                  "fields": [
                    {
                      "name": "genie_space",
                      "expression": "`genie_space`"
                    },
                    {
                      "name": "genie_space_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "genie_space",
                    "queryName": "dashboards/01f0d05a59391ad087e297c5e9c9aed5/datasets/01f0d05da6581e6e84c867b2a54c62c8_genie_space"
                  }
                ]
              },
              "frame": {
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 1,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "9f5aaf23",
            "multilineTextboxSpec": {
              "lines": [
                "# AI/BI Genie adoption"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 1
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "0319638f",
      "displayName": "Apps",
      "layout": [
        {
          "widget": {
            "name": "96a8c8e5",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "51bbce62",
                  "fields": [
                    {
                      "name": "sum(user_login_events)",
                      "expression": "SUM(`user_login_events`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(user_login_events)",
                  "displayName": "Sum of user_login_events"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total user logins to apps"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "fa0bbb89",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "51bbce62",
                  "fields": [
                    {
                      "name": "monthly(event_date)",
                      "expression": "DATE_TRUNC(\"MONTH\", `event_date`)"
                    },
                    {
                      "name": "sum(user_login_events)",
                      "expression": "SUM(`user_login_events`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "monthly(event_date)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "event_date"
                },
                "y": {
                  "fieldName": "sum(user_login_events)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Sum of user_login_events"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "User logins over time"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 1,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "3ee58ea5",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "0e741d6f",
                  "fields": [
                    {
                      "name": "acl_entry.permission_level",
                      "expression": "`acl_entry.permission_level`"
                    },
                    {
                      "name": "monthly(event_date)",
                      "expression": "DATE_TRUNC(\"MONTH\", `event_date`)"
                    },
                    {
                      "name": "count(acl_entry.user_name)",
                      "expression": "COUNT(`acl_entry.user_name`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "monthly(event_date)",
                  "displayName": "Month",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "count(acl_entry.user_name)",
                  "axis": {
                    "hideTitle": true,
                    "hideLabels": true
                  },
                  "displayName": "Count of acl_entry.user_name",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "acl_entry.permission_level",
                  "legend": {
                    "position": "bottom"
                  },
                  "displayName": "Permission level",
                  "scale": {
                    "type": "categorical"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "App permission grants over time"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "ec364792",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "20c44dd1",
                  "fields": [
                    {
                      "name": "action_name",
                      "expression": "`action_name`"
                    },
                    {
                      "name": "monthly(event_date)",
                      "expression": "DATE_TRUNC(\"MONTH\", `event_date`)"
                    },
                    {
                      "name": "sum(actions)",
                      "expression": "SUM(`actions`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "monthly(event_date)",
                  "displayName": "Month",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "sum(actions)",
                  "displayName": "Sum of actions",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "action_name",
                  "displayName": "action_name",
                  "scale": {
                    "type": "categorical"
                  }
                }
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "1a5ab142",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "255e661f",
                  "fields": [
                    {
                      "name": "sum(action_count)",
                      "expression": "SUM(`action_count`)"
                    },
                    {
                      "name": "email",
                      "expression": "`email`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "sum(action_count)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideLabels": true,
                    "hideTitle": true
                  },
                  "displayName": "Sum of action_count"
                },
                "y": {
                  "fieldName": "email",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x-reversed"
                    }
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "email"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Top users"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "top-apps-by-views",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a19ba0f5",
                  "fields": [
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    },
                    {
                      "name": "app_name",
                      "expression": "`app_name`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "sum(num_views)",
                  "axis": {
                    "hideTitle": true
                  },
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "y": {
                  "fieldName": "app_name",
                  "axis": {
                    "hideTitle": true
                  },
                  "scale": {
                    "type": "categorical",
                    "categorySize": {
                      "type": "number-of-categories",
                      "number": 20
                    },
                    "sort": {
                      "by": "x-reversed"
                    }
                  }
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Top apps by views"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 10,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "application-name",
            "queries": [
              {
                "name": "dashboards/01f0d05a59391ad087e297c5e9c9aed5/datasets/01f0d05da6581eaf9655caec7ea3b20b_app_name",
                "query": {
                  "datasetName": "a19ba0f5",
                  "fields": [
                    {
                      "name": "app_name",
                      "expression": "`app_name`"
                    },
                    {
                      "name": "app_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "app_name",
                    "queryName": "dashboards/01f0d05a59391ad087e297c5e9c9aed5/datasets/01f0d05da6581eaf9655caec7ea3b20b_app_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Application Name"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 1,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "bf031742",
            "multilineTextboxSpec": {
              "lines": [
                "# Apps adoption"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 1
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "475d4e3a",
      "displayName": "Models",
      "layout": [
        {
          "widget": {
            "name": "total-views",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "75376ae2",
                  "fields": [
                    {
                      "name": "sum(num_model_accesses)",
                      "expression": "SUM(`num_model_accesses`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(num_model_accesses)"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total views"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "view-trends-by-workspaces",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "75376ae2",
                  "fields": [
                    {
                      "name": "workspace_name",
                      "expression": "`workspace_name`"
                    },
                    {
                      "name": "monthly(viewed_date)",
                      "expression": "DATE_TRUNC(\"MONTH\", `viewed_date`)"
                    },
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "monthly(viewed_date)",
                  "displayName": "Month",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "fieldName": "sum(num_views)",
                  "displayName": "Number of views",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "workspace_name",
                  "scale": {
                    "type": "categorical"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "View trends by workspaces"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "model-views-by-workspace",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "75376ae2",
                  "fields": [
                    {
                      "name": "workspace_name",
                      "expression": "`workspace_name`"
                    },
                    {
                      "name": "sum(num_views)",
                      "expression": "SUM(`num_views`)"
                    },
                    {
                      "name": "model_name",
                      "expression": "`model_name`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "sum(num_views)",
                  "displayName": "Total views",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "y": {
                  "fieldName": "model_name",
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "model name",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x-reversed"
                    }
                  }
                },
                "color": {
                  "fieldName": "workspace_name",
                  "scale": {
                    "type": "categorical"
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Model views by workspace"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 1,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "model-name",
            "queries": [
              {
                "name": "dashboards/01f0d05a59391ad087e297c5e9c9aed5/datasets/01f0d05da6581eb7b55852603c695ee4_model_name",
                "query": {
                  "datasetName": "75376ae2",
                  "fields": [
                    {
                      "name": "model_name",
                      "expression": "`model_name`"
                    },
                    {
                      "name": "model_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "model_name",
                    "queryName": "dashboards/01f0d05a59391ad087e297c5e9c9aed5/datasets/01f0d05da6581eb7b55852603c695ee4_model_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Model Name"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 0,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "number-of-inferences",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "75376ae2",
                  "fields": [
                    {
                      "name": "num_inferences",
                      "expression": "`num_inferences`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "num_inferences"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Number Of Inferences"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 0,
            "width": 2,
            "height": 1
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "85a97342",
      "displayName": "Global Filters",
      "layout": [
        {
          "widget": {
            "name": "910fb9ea",
            "queries": [
              {
                "name": "dashboards/01f09a0b6dde1972a0fc60aa3d4c7b0b/datasets/01f09a17823315d582947894a49feefb_workspace_name",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "workspace_name",
                      "expression": "`workspace_name`"
                    },
                    {
                      "name": "workspace_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "workspace_name",
                    "displayName": "workspace_name",
                    "queryName": "dashboards/01f09a0b6dde1972a0fc60aa3d4c7b0b/datasets/01f09a17823315d582947894a49feefb_workspace_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Workspace"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "ac69a7af",
            "queries": [
              {
                "name": "dashboards/01f0be3f867a15ccb2cf8ac689352fd2/datasets/01f0be3fe986188b9d2af45f603c4b1c_daily(viewed_date)",
                "query": {
                  "datasetName": "e2b9e81f",
                  "fields": [
                    {
                      "name": "daily(viewed_date)",
                      "expression": "DATE_TRUNC(\"DAY\", `viewed_date`)"
                    },
                    {
                      "name": "daily(viewed_date)_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-date-range-picker",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "daily(viewed_date)",
                    "queryName": "dashboards/01f0be3f867a15ccb2cf8ac689352fd2/datasets/01f0be3fe986188b9d2af45f603c4b1c_daily(viewed_date)"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Time period"
              },
              "selection": {
                "defaultSelection": {
                  "range": {
                    "dataType": "DATETIME",
                    "min": {
                      "value": "now-90d/d"
                    },
                    "max": {
                      "value": "now/d"
                    }
                  }
                }
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 1,
            "height": 2
          }
        }
      ],
      "pageType": "PAGE_TYPE_GLOBAL_FILTERS"
    },
    {
      "name": "b865610e",
      "displayName": "Genie Drill Down",
      "layout": [
        {
          "widget": {
            "name": "total-conversations",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f3e2f878",
                  "fields": [
                    {
                      "name": "countdistinct(conversation_id)",
                      "expression": "COUNT(DISTINCT `conversation_id`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "countdistinct(conversation_id)"
                }
              },
              "frame": {
                "title": "Total Conversations",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 1,
            "y": 6,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "genie-space",
            "queries": [
              {
                "name": "dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b14ad5a2d89b6e47b3d_space_name",
                "query": {
                  "datasetName": "fe27bc16",
                  "fields": [
                    {
                      "name": "space_name",
                      "expression": "`space_name`"
                    },
                    {
                      "name": "space_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b0db9cd1cb3a5975a58_genie_space_id",
                "query": {
                  "datasetName": "3655f221",
                  "parameters": [
                    {
                      "name": "genie_space_id",
                      "keyword": "genie_space_id"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b06b7d3549ab7bc8d7e_space_id",
                "query": {
                  "datasetName": "d71f04cc",
                  "parameters": [
                    {
                      "name": "space_id",
                      "keyword": "space_id"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1afb90f8395a0da8eadd_space_id",
                "query": {
                  "datasetName": "f3e2f878",
                  "parameters": [
                    {
                      "name": "space_id",
                      "keyword": "space_id"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b1aa548e5533fe35e46_genie_space_id",
                "query": {
                  "datasetName": "348e9612",
                  "parameters": [
                    {
                      "name": "genie_space_id",
                      "keyword": "genie_space_id"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "frame": {
                "showTitle": true,
                "title": "Genie Space"
              },
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "space_name",
                    "queryName": "dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b14ad5a2d89b6e47b3d_space_name"
                  },
                  {
                    "parameterName": "genie_space_id",
                    "queryName": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b0db9cd1cb3a5975a58_genie_space_id"
                  },
                  {
                    "parameterName": "space_id",
                    "queryName": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b06b7d3549ab7bc8d7e_space_id"
                  },
                  {
                    "parameterName": "space_id",
                    "queryName": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1afb90f8395a0da8eadd_space_id"
                  },
                  {
                    "parameterName": "genie_space_id",
                    "queryName": "parameter_dashboards/01f103a348bb14e1a13805924e97b2ff/datasets/01f103b30b7d1b1aa548e5533fe35e46_genie_space_id"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "message-count-overview",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d71f04cc",
                  "fields": [
                    {
                      "name": "median_messages_per_conversation",
                      "expression": "`median_messages_per_conversation`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "median_messages_per_conversation"
                }
              },
              "frame": {
                "title": "Median messages per conversation",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 6,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "total-unique-users",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f3e2f878",
                  "fields": [
                    {
                      "name": "countdistinct(user_email)",
                      "expression": "COUNT(DISTINCT `user_email`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "countdistinct(user_email)"
                }
              },
              "frame": {
                "title": "Total number of unique users",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 6,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "total-dbus-consumed",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "3655f221",
                  "fields": [
                    {
                      "name": "sum(query_attributed_dollars_estimation)",
                      "expression": "SUM(`query_attributed_dollars_estimation`)"
                    },
                    {
                      "name": "executed_by",
                      "expression": "`executed_by`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "frame": {
                "title": "Total Cost by User",
                "showTitle": true
              },
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "sum(query_attributed_dollars_estimation)",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "executed_by",
                  "displayName": "User",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "krishnan.gopakumar@databricks.com",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 5
                        }
                      }
                    ]
                  }
                }
              }
            }
          },
          "position": {
            "x": 3,
            "y": 8,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "space-name",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "fe27bc16",
                  "fields": [
                    {
                      "name": "space_name",
                      "expression": "`space_name`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "space_name",
                  "rowNumber": 0
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Space Name"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "0bf43321",
            "multilineTextboxSpec": {
              "lines": [
                "<span style=\"font-size: 36px;line-height: 1.5;\">Genie Drill Down Dashboard</span>"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "total-cost-genie-space",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "3655f221",
                  "fields": [
                    {
                      "name": "sum(query_attributed_dollars_estimation)",
                      "expression": "SUM(`query_attributed_dollars_estimation`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "frame": {
                "title": "Total Cost incurred (USD)",
                "showTitle": true
              },
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(query_attributed_dollars_estimation)",
                  "format": {
                    "type": "number-currency",
                    "currencyCode": "USD",
                    "abbreviation": "compact",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 2
                    }
                  }
                }
              }
            }
          },
          "position": {
            "x": 4,
            "y": 6,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "feedback-rating-distribution",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f3e2f878",
                  "fields": [
                    {
                      "name": "count(feedback_rating)",
                      "expression": "COUNT(`feedback_rating`)"
                    },
                    {
                      "name": "feedback_rating",
                      "expression": "`feedback_rating`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(feedback_rating)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "%"
                },
                "color": {
                  "fieldName": "feedback_rating",
                  "displayName": "Feedback",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "NEGATIVE",
                        "color": "#FF8000"
                      },
                      {
                        "value": "NONE",
                        "color": {
                          "themeColorType": "widgetBorderColor"
                        }
                      }
                    ]
                  }
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "title": "Feedback Rating Distribution",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "messages-over-time",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f3e2f878",
                  "fields": [
                    {
                      "name": "monthly(created_datetime)",
                      "expression": "DATE_TRUNC(\"MONTH\", `created_datetime`)"
                    },
                    {
                      "name": "count(message_id)",
                      "expression": "COUNT(`message_id`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "combo",
              "encodings": {
                "x": {
                  "fieldName": "monthly(created_datetime)",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "primary": {
                    "fields": [
                      {
                        "fieldName": "count(message_id)"
                      }
                    ]
                  },
                  "secondary": {
                    "fields": []
                  },
                  "scale": {
                    "type": "quantitative"
                  }
                }
              },
              "frame": {
                "title": "Messages Over Time",
                "showTitle": true
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 2
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 0,
            "y": 14,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "date-range",
            "queries": [
              {
                "name": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0fec1a5cb19b8ad687830223feabc_param",
                "query": {
                  "datasetName": "3655f221",
                  "parameters": [
                    {
                      "name": "param",
                      "keyword": "param"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0febff23c1b41846de024a3dea536_param",
                "query": {
                  "datasetName": "f3e2f878",
                  "parameters": [
                    {
                      "name": "param",
                      "keyword": "param"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0fec0d6b0171bb6539cb66fba8b36_param",
                "query": {
                  "datasetName": "d71f04cc",
                  "parameters": [
                    {
                      "name": "param",
                      "keyword": "param"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0ff0d4dfe1d959830147c0c491a7a_param",
                "query": {
                  "datasetName": "348e9612",
                  "parameters": [
                    {
                      "name": "param",
                      "keyword": "param"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-date-range-picker",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "param",
                    "queryName": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0fec1a5cb19b8ad687830223feabc_param"
                  },
                  {
                    "parameterName": "param",
                    "queryName": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0febff23c1b41846de024a3dea536_param"
                  },
                  {
                    "parameterName": "param",
                    "queryName": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0fec0d6b0171bb6539cb66fba8b36_param"
                  },
                  {
                    "parameterName": "param",
                    "queryName": "parameter_dashboards/01f0fdd856f31de08b6c443a0423987d/datasets/01f0ff0d4dfe1d959830147c0c491a7a_param"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Date Range"
              },
              "selection": {
                "defaultSelection": {
                  "range": {
                    "dataType": "DATE",
                    "min": {
                      "value": "2025-09-02T00:00:00.000"
                    },
                    "max": {
                      "value": "2026-01-31T23:59:59.999"
                    }
                  }
                }
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 3,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "table-genie-drill-down-data",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f3e2f878",
                  "fields": [
                    {
                      "name": "user_question",
                      "expression": "`user_question`"
                    },
                    {
                      "name": "ai_response",
                      "expression": "`ai_response`"
                    },
                    {
                      "name": "created_datetime",
                      "expression": "`created_datetime`"
                    },
                    {
                      "name": "feedback_rating",
                      "expression": "`feedback_rating`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "user_question",
                    "title": "user_question",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "type": "string",
                    "displayAs": "string",
                    "visible": true
                  },
                  {
                    "fieldName": "ai_response",
                    "title": "ai_response",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "type": "string",
                    "displayAs": "string",
                    "visible": true
                  },
                  {
                    "fieldName": "created_datetime",
                    "title": "created_datetime",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true
                  },
                  {
                    "fieldName": "feedback_rating",
                    "title": "feedback_rating",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "type": "string",
                    "displayAs": "string",
                    "visible": true
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "space_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100000,
                  "title": "space_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "space_name",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100001,
                  "title": "space_name",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "message_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100002,
                  "title": "message_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "conversation_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100003,
                  "title": "conversation_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "user_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100004,
                  "title": "user_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "user_email",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100005,
                  "title": "user_email",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "status",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100006,
                  "title": "status",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "created_timestamp",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100007,
                  "title": "created_timestamp",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "last_updated_timestamp",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100008,
                  "title": "last_updated_timestamp",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "sql_query",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100011,
                  "title": "sql_query",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "statement_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100012,
                  "title": "statement_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "suggested_questions",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100013,
                  "title": "suggested_questions",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "num_attachments",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100014,
                  "title": "num_attachments",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "feedback_comment",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100016,
                  "title": "feedback_comment",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "error_type",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100017,
                  "title": "error_type",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "error_message",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100018,
                  "title": "error_message",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "dateTimeFormat": "DD/MM/YYYY HH:mm:ss.SSS",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "last_updated_datetime",
                  "type": "datetime",
                  "displayAs": "datetime",
                  "order": 100020,
                  "title": "last_updated_datetime",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "title": "Table of Questions asked",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 14,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "average-cost-per-message",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "348e9612",
                  "fields": [
                    {
                      "name": "avg_cost_per_message",
                      "expression": "`avg_cost_per_message`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "frame": {
                "title": "Average Cost per Message (USD)",
                "showTitle": true
              },
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_cost_per_message",
                  "format": {
                    "type": "number-currency",
                    "currencyCode": "USD",
                    "abbreviation": "compact",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 3
                    }
                  }
                }
              }
            }
          },
          "position": {
            "x": 5,
            "y": 6,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "total-messages",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f3e2f878",
                  "fields": [
                    {
                      "name": "countdistinct(message_id)",
                      "expression": "COUNT(DISTINCT `message_id`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "countdistinct(message_id)"
                }
              },
              "frame": {
                "title": "Total Messages",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 6,
            "width": 1,
            "height": 2
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ],
  "uiSettings": {
    "theme": {
      "canvasBackgroundColor": {
        "light": "#F6FAFB",
        "dark": "#1B1F23"
      },
      "widgetBackgroundColor": {
        "light": "#FFFFFF",
        "dark": "#2A2F35"
      },
      "widgetBorderColor": {
        "light": "#D7E1E9",
        "dark": "#3C444C"
      },
      "fontColor": {
        "light": "#374151",
        "dark": "#E4E9EE"
      },
      "selectionColor": {
        "light": "#5FA8D3",
        "dark": "#5FA8D3"
      },
      "visualizationColors": [
        "#5FA8D3",
        "#70BEE1",
        "#89CCE7",
        "#A1DAEC",
        "#B3E6DC",
        "#89C7A8",
        "#6EAD80",
        "#589F60",
        "#478743",
        "#356C2A"
      ],
      "widgetHeaderAlignment": "LEFT"
    },
    "genieSpace": {
      "isEnabled": false,
      "enablementMode": "ENABLEMENT_MODE_UNSPECIFIED"
    },
    "applyModeEnabled": false
  }
}
